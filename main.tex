% !TeX spellcheck = de_DE
\documentclass[a4paper, twoside, 12pt, openright, final]{memoir}
\usepackage[T1]{fontenc}
\usepackage[margin=2cm, bindingoffset=10mm, includeheadfoot, headheight=14.7pt]{geometry}
\usepackage[british, ngerman]{babel}
\usepackage[hyperref=true]{acro}
\usepackage[backend=biber, style=ieee]{biblatex}
\usepackage[final]{minted}
\usepackage{fancyhdr, 
	graphicx,
	datetime2,
	fontspec,
	float,
	hologo,
	csquotes,
	longtable,
	pdfpages,
	multirow,
	tabulary,
	amsmath,
	blindtext
	}
%\usepackage[printwatermark]{xwatermark}
\usepackage[protrusion=true,final]{microtype}
\usepackage[final]{hyperref}
\usepackage{xurl}
\usepackage[all]{hypcap}

%\newwatermark[allpages,color=gray!25,angle=45,scale=3,xpos=0,ypos=0]{DRAFT}
%\overfullrule=1mm

\addbibresource{sources.bib}
\input{acronyms.tex}
%TeX distance tweaking
\emergencystretch=1em%
\makeatletter
  \renewcommand{\@pnumwidth}{3em}
  \renewcommand{\@tocrmarg}{4em}
\makeatother

%global package setups
\hypersetup{
	linktoc=all,
	colorlinks=false,
	linkcolor=blue
}

\setminted{
	numbers=both, 
	breaklines=true,
	% breakbefore=;:\=\,.,
	breakafter=;:\=\,.
}

% pagestyles ------------------------------------------------------------------
\fancypagestyle{normalpage}{
	\fancyhf{} %clear header and footer
	\rhead[\leftmark]{\thepage}
	\lhead[\thepage]{\rightmark}
	\cfoot{\authorName}
	\renewcommand{\headrulewidth}{0.4pt}
	\renewcommand{\footrulewidth}{0.4pt}
}
\aliaspagestyle{chapter}{normalpage}

\fancypagestyle{abstractpage}{
	\fancyhf{} %clear header and footer
	\rhead[]{\thepage}
	\lhead[\thepage]{}
	\cfoot{\authorName}
	\renewcommand{\headrulewidth}{0.4pt}
	\renewcommand{\footrulewidth}{0.4pt}
}
\aliaspagestyle{part}{abstractpage}

\fancypagestyle{titlepage}{
	\fancyhf{} %clear header and footer
	\fancyhead[c]{\includegraphics[width=\linewidth]{images/HTL_Header}}
	\cfoot{\authorName}
	\renewcommand{\headrulewidth}{0.4pt}
	\renewcommand{\footrulewidth}{0.4pt}
}
\aliaspagestyle{titlingpage}{titlepage}

% memoir configuration ------------------------------------------------------
\chapterstyle{section}
\setsecnumdepth{subsubsection}
\settocdepth{subsection}

% custom commands -----------------------------------------------------------
\newcommand{\blankpage}{
	\newpage
	\null
	\thispagestyle{empty}
	\newpage
}
\newcommand{\MarioPrantl}{DI(FH) Mario Prantl}
\newcommand{\AndreasGrain}{Andreas Grain}
\newcommand{\MatthiasMair}{Matthias Mair}
\newcommand{\authorName}{\AndreasGrain\ / \MatthiasMair}
\newcommand{\wip}{{\color{red}Nachfolgender Teil ist noch in Bearbeitung durch \authorName}}
\newcommand{\tOmega}{Ω}
\newcommand{\tdelta}{Δ}

% text formatting ----------------------------------------------------------
%\setlength{\parindent}{0pt}% Remove paragraph indentation
\setlength{\parskip}{8pt}% Add space after paragraph
\setmainfont{Arial}
\renewcommand{\footnotesize}{\scriptsize}

\setlength{\beforechapskip}{0pt}
\setlength{\afterchapskip}{20pt}
% Document start -----------------------------------------------------------
\begin{document}
\pagestyle{normalpage}

\frontmatter
\begin{titlingpage}
	\input{chapters/title.tex}
\end{titlingpage}

\OnehalfSpacing

\chapter{Erklärungen}
\section{Eidesstattliche Erklärung}
Wir erklären an Eides statt, dass wir die vorliegende Diplomarbeit selbständig und ohne fremde Hilfe verfasst, andere als die angegebenen Quellen und Hilfsmittel nicht benutzt und die den benutzten Quellen wörtlich und inhaltlich entnommenen Stellen als solche erkenntlich gemacht haben.
\vspace*{1.5cm}
\begin{center}
	\hrule
	\vspace*{0.2cm}
	Ort, Datum\hspace*{0.4\linewidth}\AndreasGrain\\
	\vspace*{1.5cm}
	\hrule
	\vspace*{0.2cm}
	Ort, Datum\hspace*{0.4\linewidth}\MatthiasMair
\end{center}
\vspace*{1.5cm}

\section{Gender-Erklärung}
Aus Gründen der besseren Lesbarkeit wird in dieser Diplomarbeit die Sprachform des generischen Maskulinums angewendet.
Es wird an dieser Stelle darauf hingewiesen, dass die ausschließliche Verwendung der männlichen Form geschlechtsunabhängig zu verstehen ist.
\cleartoverso

\SingleSpacing
\tableofcontents
\OnehalfSpacing
%\cleartoverso

\chapter{Kurzfassung/Abstract}
\input{chapters/kurzfassung.tex}
\chapter{Projektergebnis}
\input{chapters/projektergebnis.tex}
%\thispagestyle{abstractpage}
%iOS-Entwicklung nicht durchgeführt, kein Mac vorhanden.
%Mehrfachzugriff über App wurde nicht eingeschränkt, ist weiter zu bearbeiten.

\mainmatter
\chapter{Einleitung}
\input{chapters/einleitung.tex}
\clearpage

\renewcommand{\authorName}{\AndreasGrain}
\part{Software - \AndreasGrain}
\chapter{Rahmenwerk}
\input{chapters/auswahl_rahmenwerk.tex}
\chapter{Verwendete Software-Module}
\input{chapters/software_module.tex}
\chapter{Push-Benachrichtigung}
\input{chapters/push_notification.tex}
\chapter{Programm-Dokumentation}
\input{chapters/xamarin.tex}
\chapter{Software-Ausblick}
\input{chapters/software-ausblick.tex}
\clearpage

\renewcommand{\authorName}{\MatthiasMair}
\part{Hardware - \MatthiasMair}
\chapter{Ausgangssituation}
\input{chapters/ist-situation.tex}
\chapter{Technische Grundlagen}
\input{chapters/technische_grundlagen.tex}
\chapter{Berechnung}
\input{chapters/berechnung.tex}
\chapter{Verbesserte Hardwarelösung}
\input{chapters/verbesserte_hardwareloesung.tex}
\chapter{Hardware-Programmierung}
\input{chapters/hardware-programmierung.tex}
\chapter{Platinen-Entwicklung}
\input{chapters/platinen-entwicklung.tex}
\chapter{Hardware-Ausblick}
\input{chapters/hardware-ausblick.tex}
\clearpage

\renewcommand{\authorName}{\AndreasGrain\ / \MatthiasMair}
\appendix
%\printbibheading
%\printbibliography[heading=subbibliography,type=online,title={Online-Quellen}]
%\printbibliography[heading=subbibliography,nottype=online,title={Andere Quellen}]
\part{Appendix}
\chapter{Datenblätter}
\input{chapters/datenblaetter.tex}
\chapter{Fertigungsdokumentation}
\input{chapters/dokumentation.tex}
\printbibliography[title={Literatur und Quellen}]
\clearpage
\addcontentsline{toc}{chapter}{Abkürzungen}
\printacronyms[heading=chapter*,name=Abkürzungen]
\clearpage
\listoffigures
Alle Abbildungen ohne Referenzmarke \enquote{[\#]} sind Eigenfotos
\clearpage
\listoftables
\end{document}